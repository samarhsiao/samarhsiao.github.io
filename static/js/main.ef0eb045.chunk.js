(this.webpackJsonppopulation=this.webpackJsonppopulation||[]).push([[0],{16:function(e,t,a){},31:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),s=a(25),i=a.n(s),r=(a(31),a(1)),o=a(10),l=a.n(o),d=a(14),j=a(7),u=(a(16),a.p+"static/media/taipei-city-logo.bae7fc0e.png"),b=a(3),f=a(26),m=a(0);b.e.register(b.d,b.i,b.b,b.n,b.o,b.g);var h={responsive:!0,options:{animation:{duration:1e3,easing:"easeOutQuart"}}};var p=function(e){var t=e.dataSet;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(f.a,{className:"mb-4",options:h,data:t})})},O="http://localhost:3002",x=a(15),v=a.n(x);var g=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"mySpinner loadingio-spinner-disk-0fvlyqfh80kj",children:Object(m.jsx)("div",{className:"ldio-j9cfy7v3t3e",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{}),Object(m.jsx)("div",{})]})})})})};var y=function(){var e=Object(n.useState)([{}]),t=Object(j.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!0),i=Object(j.a)(s,2),o=i[0],b=i[1],f=Object(n.useState)({labels:["\u5171\u540c\u751f\u6d3b\u6236","\u55ae\u7368\u751f\u6d3b\u6236"],datasets:[{label:"\u5973\u6027",data:[0,0],backgroundColor:"#DF7B7B"},{label:"\u7537\u6027",data:[0,0],backgroundColor:"#478CD1"}]}),h=Object(j.a)(f,2),x=h[0],y=h[1];Object(n.useEffect)((function(){Object(d.a)(l.a.mark((function e(){var t,a,n,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(O));case 2:t=e.sent,a=t.data,n=a.filter((function(e){return"\u81fa\u5317\u5e02"===e.site_id.slice(0,3)})),s=new Set,i=n.filter((function(e){return!s.has(e.site_id)&&s.add(e.site_id)})),c(i);case 8:case"end":return e.stop()}}),e)})))(),setTimeout((function(){b(!1)}),8e3)}),[]);var k=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n,c,s,i,o,d,j,u,b,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=document.getElementById("tpedist"),n=0,c=0,s=0,i=0,a.value!==t.target.value){e.next=13;break}return e.next=8,v.a.get("".concat(O));case 8:o=e.sent,d=o.data,j=d.filter((function(e){return e.site_id===t.target.value})),u=Object(r.a)(j);try{for(u.s();!(b=u.n()).done;)f=b.value,n+=f.household_ordinary_f-0,c+=f.household_ordinary_m-0,s+=f.household_single_f-0,i+=f.household_single_m-0}catch(l){u.e(l)}finally{u.f()}case 13:y({labels:["\u5171\u540c\u751f\u6d3b\u6236","\u55ae\u7368\u751f\u6d3b\u6236"],datasets:[{label:"\u5973\u6027",data:[n,s],backgroundColor:"#DF7B7B"},{label:"\u7537\u6027",data:[c,i],backgroundColor:"#478CD1"}]});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("div",{className:"tpgov_logo mb-3 mt-4 mx-auto",children:Object(m.jsx)("img",{src:u,alt:""})}),Object(m.jsx)("p",{className:"title mb-5",children:"108\u5e74\u53f0\u5317\u5e02\u5404\u5340\u6236\u6578\u8cc7\u6599"}),Object(m.jsxs)("div",{className:o?"mySpinner d-flex":"mySpinner d-none",children:[Object(m.jsx)(g,{}),"\u8cc7\u6599\u8f09\u5165\u4e2d\uff0c\u8acb\u7a0d\u5019"]}),Object(m.jsxs)("div",{className:o?"d-flex align-center justify-content-evenly mb-3 opacity0":"d-flex align-center mb-3 opacity1",children:[Object(m.jsx)("div",{className:"district"}),Object(m.jsx)("p",{className:"test",children:"\u884c\u653f\u5340"}),Object(m.jsx)("div",{className:"space"}),Object(m.jsx)("div",{children:Object(m.jsxs)("select",{name:"",id:"tpedist",onChange:function(e){k(e)},onClick:function(){y({labels:["\u5171\u540c\u751f\u6d3b\u6236","\u55ae\u7368\u751f\u6d3b\u6236"],datasets:[{label:"\u5973\u6027",data:[0,0],backgroundColor:"#DF7B7B"},{label:"\u7537\u6027",data:[0,0],backgroundColor:"#478CD1"}]})},children:[Object(m.jsx)("option",{children:"\u8acb\u9078\u64c7"}),0!==a.length?a.map((function(e,t){return Object(m.jsx)("option",{children:e.site_id},t)})):Object(m.jsx)(m.Fragment,{})]})})]}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)(p,{dataSet:x})})]})})};a(52),a(53);i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(y,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.ef0eb045.chunk.js.map